{
  "name" : "E20R Roles for Paid Memberships Pro",
  "slug" : "e20r-roles-for-pmpro",
  "download_url" : "https://eighty20results.com/protected-content/e20r-roles-for-pmpro/e20r-roles-for-pmpro-2.1.7.zip",
  "version" : "2.1.7",
  "tested": "4.9.1",
  "requires": "4.7",
  "author" : "Eighty / 20 Results by Wicked Strong Chicks, LLC <thomas@eighty20results.com>",
  "author_homepage": "https://eighty20results.com/thomas-sjolshagen",
  "last_updated": "2017-12-13 15:15:00",
  "homepage": "https://eighty20results.com/wordpress-plugins/e20r-roles-for-pmpro/",
  "sections" : {
    "description" : "<p>This plugin provides role support for Paid Memberships Pro. The basic (completely free) plugin will add/remove level specific role(s) as/when the user purchases a membership level. This can be used together with 3rd party plugins to manage navigation menu visibility, etc.</p><p><ul><li>Unlike the original PMPro Roles add-on, this plugin will not be disruptive to previously assigned membership role(s) for members/users of your service</li><li>The plugin requires the free Membership plugin <a href=\"https://www.paidmembershipspro.com\" target=\"_blank\">Paid Memberships Pro</a></li></ul></p><p>Any enabled add-on modules for this plugin will require whatever plugin or functionality they support/list as required.</p><p>The plugin currently supports the following add-on modules:<ul><li>Level Capabilities - Allows the admin to assign specific WordPress capabilities to a membership level.</li><li>bbPress Forum - Use the \"Require Membership\" forum protection settings, together with membership level specific role permissions to determine the level of access a member can have to any given forum or topic.</li></ul></p><p>In other words, you can configure a membership level to grant the following <a href=\"https://bbpress.org/\" target=\"_blank\">bbPress Forum</a> access levels to an active PMPro member:<ul><li>No access</li><li>Read Only access</li><li>Add reply access</li><li>Add Topic access</li><li>Support access</li><li>Admin access</li></ul></p><p>You can also grant read-only access to all forums (both membership protected and not) for any user/entity, even when not logged in.</p> <p>These add-on modules must be licensed & activated by purchasing the add-on use license at <a href=\"https://eighty20results.com/wordpress-plugins/e20r-roles-licenses\" target=\"_target\">the Eighty / 20 Results website</a>. The individual modules/add-ons can then be enabled on the local server via the \"Settings\" page for \"E20R Roles for PMPro\"</p><p>The bbPress Roles add-on/module requires the bbPress Forum plugin.</p><p>The BuddyPress plugin is required if you enable the BuddyPress Roles module (Not yet available)</p>",
    "changelog": "<h3>2.1.7</h3><ol><li>ENHANCEMENT/FIX: Update licensing and utilities classes</li><li>ENHANCEMENT/FIX: Remove class_exists() check for Role_Definitions</li><li>ENHANCEMENT: Update placeholder key for new license key fields</li><li>ENHANCEMENT: Add version constant</li><li>ENHANCEMENT: Refactor admin_enqueue_scripts()</li><li>ENHANCEMENT: Update the autoloader (more dynamic)</li><li>ENHANCEMENT: Remove plugin specific utility classes in preparation for adding Utilities submodule</li><li>ENHANCEMENT: Upgrade to using the shared Utilities library/module</li><li>ENHANCEMENT: Add check_licenses method to E20R_Roles_Addon parent class</li><li>ENHANCEMENT: Clean up utilties module gruff</li><li>ENHANCEMENT: Remove unneeded namespace declarations</li><li>ENHANCEMENT: Fix namespaces to match Utilities library/module for Licensing and Utilities classes</li><li>ENHANCEMENT: Fix namespace for utilities module</li><li>ENHANCEMENT: Move PMPro_Members to Roles_For_PMPro class</li><li>ENHANCEMENT: Remove unused namespace declarations</li><li>ENHANCEMENT: Update Utilties library/module</li><li>ENHANCEMENT: Update placeholder key for new license key fields</li><li>BUG FIX: Add dependencies & version to scripts & styles being loaded</li><li>BUG FIX: Didn't always indicate that user had been assigned the level specific role</li><li>BUG FIX: Load the correct Utilities class (from E20R\\\\Utilities)</li><li>BUG FIX: Fix namespace for PMPro_Members class (moved to E20R\\\\Roles_For_PMPro</li><li>BUG FIX: Update Namespace paths for PMPro_Members class</li><li>BUG FIX: Didn't ensure $active_addons was an array</li></ol><h3>2.1.6</h3><ol><li>BUG FIX: Didn't always load the licensing_page() handler</li><li>ENHANCEMENT: Updated to version 1.4 of the Licensing class</li></ol><h3>2.1.5</h3><ol><li>BUG FIX: Fatal error during upgrade of the plugin supported by this add-on</li><li>ENHANCEMENT: Update copyright notice</li><li>ENHANCEMENT: Use defined variable for admin JavaScript</li></ol><h3>2.1.4</h3><ol><li>BUG/FIX: Didn't identify self-referential license check correctly</li></ol><h3>2.1.3</h3><ol><li>ENHANCEMENT: Would loop indefinitely if running on licensing server</li></ol><h3>2.1.2</h3><ol><li>BUG/FIX: Utilities attempted called w/o beind declared</li><li>ENHANCEMENT/FIX: Don't reach out to remote server unless the license key is present</li><li>ENHANCEMENT/FIX: Check requirements if the add-on is enabled/active</li><li>ENHANCEMENT: Improved documentation</li><li>ENHANCEMENT: Refactor & update version number</li><li>ENHANCEMENT: Use the global variable to check whether add-on is supposed to be active or not</li></ol><h3>2.1.1</h3><ol><li>BUG/FIX: Attempted to verify invalid licenses</li><li>BUG/FIX: Avoid unneeded license checks</li><li>ENHANCEMENT/FIX: Trigger license check if license is inactive _or_ the saved license is expiring.</li><li>ENHANCEMENT: Use filter to exclude add-ons or licenses from checks</li><li>ENHANCEMENT: Additional function doc</li></ol><h3>2.1.0</h3><ol><li>ENHANCEMENT/FIX: Use default logging method</li></ol><h3>2.0.9</h3><ol><li>BUG/FIX: Bypassed error log variables</li></ol><h3>2.0.8</h3><ol><li>BUG/FIX: Would log to the debug log regardless of setting</li></ol><h3>2.0.7</h3><ol><li>BUG/FIX: Load a single instance of the License management page, regardless of number of E20R license class instances on the system</li><li>BUG/FIX: Didn't handle missing PMPro plugin properly</li><li>BUG/FIX: Updated URL for the account page for license status access</li><li>BUG/FIX: Loading duplicate E20R License Settings menu entries</li><li>BUG/FIX: Would not load E20R Licensing menu properly</li><li>BUG/FIX: Incorrect class protection for maybe_extract_class_name() method</li><li>ENHANCEMENT/FIX: Properly key the license info in the add-ons</li><li>ENHANCEMENT: Update licensing code to v1.0 (support for multiple licenses)</li><li>ENHANCEMENT: Skip enabling the example add-on</li><li>ENHANCEMENT: Add check for previously loaded license settings menu/page</li><li>ENHANCEMENT: Default access for administrator users for all protected content, regardless of the protected content's level requirement</li></ol><h3>2.0.6</h3><ol><li>BUG/FIX: White-screen if PMPro isn't active</li></ol><h3>2.0.5</h3><ol><li>ENHANCEMENT: Grant access to all content for users with Administrator role</li><li>BUG/FIX: Not all versions of PHP allows expression as default argument</li></ol><h3>2.0.4</h3><ol><li>ENHANCEMENT: Removed duplicate functionality (configure_addon() method)</li><li>ENHANCEMENT: Move toggle_addon() core logic to parent E20R_Roles_Addon class for add-ons</li><li>ENHANCEMENT: Check that add-on is licensed before allowing user to toggle it on</li><li>ENHANCEMENT: Add warning message w/link to license page when attempting to activate an unlicensed add-on</li><li>ENHANCEMENT/FIX: Removed dead/unused code</li><li>ENHANCEMENT/FIX: Only update license settings in the cache if the current product has data in it</li><li>ENHANCEMENT/FIX: Leverage parent class toggle_addon() method in Level_Capabilities add-on</li><li>ENHANCEMENT/FIX: Use debug logging method (Utilities::log()) in Level_Capabilities add-on</li><li>ENHANCEMENT/FIX: Move core toggle_addon() method logic to parent class</li><li>ENHANCEMENT/FIX: Use debug logging method (Utilities::log())</li><li>ENHANCEMENT/FIX: Use method to validate whether bbPress add-on is enabled or not</li><li>ENHANCEMENT/FIX: Leverage parent class toggle_addon() method in BuddyPress add-on</li><li>ENHANCEMENT/FIX: Use debug logging method (Utilities::log()) in BuddyPress add-on</li><li>ENHANCEMENT/FIX: Avoid duplicating the license check during add-on init</li><li>BUG/FIX: Clean up data stored in cache for the is_licensed() method</li><li>BUG/FIX: Assumes the add-on license data is stored in the cache if the cache is valid</li><li>BUG/FIX: White screen due to missing method</li></ol><h3>2.0.3</h3><ol><li>ENHANCEMENT/FIX: Incorrect use of warning message about missing membership levels</li><li>ENHANCEMENT: Update URL for link to purchase add-on licenses</li></ol><h3>2.0.2</h3><ol><li>ENHANCEMENT/FIX: Disable license check cache override</li></ol><h3>2.0.1</h3><ol><li>BUG/FIX: License check loop</li><li>ENHANCEMENT: Refactored</li></ol><h3>2.0</h3><ol><li>BUG/FIX: Use Required Level info to determine access permissions</li><li>BUG/FIX: Improved add-on identification for option loading</li><li>BUG/FIX: Always check upstream license server when add-on is deactivated, yet not enabled</li><li>BUG/FIX: Only attempt to enable/activate/load add-on settings/actions/filters if we could locate the class</li><li>BUG/FIX: Didn't handle capability array properly</li><li>BUG/FIX: Didn't use correct capability name when adding capabilities to existing level/role definition</li><li>BUG/FIX: Would strip role names during processing/merge of existing capabilities to role</li><li>BUG/FIX: Didn't identify the class correctly</li><li>ENHANCEMENT/FIX: Add TLS 1.2 support/enforcement for license validation & upgrade checks</li><li>ENHANCEMENT/FIX: Simplify option loading/setting for bbPress Roles add-on</li><li>ENHANCEMENT/FIX: Change role assignment/definitions to better match WP Standards</li><li>ENHANCEMENT/FIX: Ensure proper array merge for multiple types of capabilities in the role(s).</li><li>ENHANCEMENT/FIX: Skip processing example add-ons</li><li>ENHANCEMENT/FIX: Ensure the status for the add-on is shown</li><li>ENHANCEMENT/FIX: List add-ons that aren't currently licensed/active</li><li>ENHANCEMENT/FIX: Set Topic/Topics as defaults if not defined for replacement</li><li>ENHANCEMENT/FIX: Move maybe_extract_class_name() to parent class</li><li>ENHANCEMENT/FIX: Explicitly state access for force_tls_12() method</li><li>ENHANCEMENT/FIX: Better handling of existing and new capabilities for the level during level save</li><li>ENHANCEMENT/FIX: Clean up old (bad) capability definitions</li><li>ENHANCEMENT: Refactor for WP code style requirements</li><li>ENHANCEMENT: Refactor for readability (grouping some methods)</li><li>ENHANCEMENT: Update/Improve PHP Doc</li><li>ENHANCEMENT: Save new bbPress Roles settings to DB</li><li>ENHANCEMENT: Upgrade/Fix capability definitions for level(s)</li><li>ENHANCEMENT: WordPress style guide compliant refactoring</li><li>ENHANCEMENT: Add support for JavaScript on Licensing settings page</li><li>ENHANCEMENT: Use variable to select proper settings for bbPress Add-on</li><li>ENHANCEMENT: Set the status for the add-on when activating/loading it.</li><li>ENHANCEMENT: Use better debug logger</li><li>ENHANCEMENT: Better label for new roles (bbPress forum related)</li><li>ENHANCEMENT: Use class name for settings (default)</li><li>ENHANCEMENT: Add setting to allow/deny enabling the add-on</li><li>ENHANCEMENT: Use more descriptive add-on option name for enabled/disabled add-ons</li><li>ENHANCEMENT: Infrastructure to handle changes to 'is_*_active' settings in parent roles-addon class</li><li>ENHANCEMENT: Refactor the action hooks</li><li>ENHANCEMENT: Add PHPDoc for check_admin_screen() and check_license_warnings() methods</li><li>ENHANCEMENT: Disable add-on module activation checkbox if explictly configured to do so</li><li>ENHANCEMENT: Various updates to logging for Example add-on class</li><li>ENHANCEMENT: Update how to set the Example add-on active/status values.</li><li>ENHANCEMENT: Include 'disabled' setting (manual code override)</li><li>ENHANCEMENT: Renamed the Configure_Capabilities class to Level_Capabilities</li><li>ENHANCEMENT: Add roles as they apply to a specific level ID</li><li>ENHANCEMENT: Use the E20R Roles filters to configure level specific capabilities (selected from Membership Level settings page)</li><li>ENHANCEMENT: Configure list (table) of available capabilities for admin to assign to users who belong to the level(s)</li><li>ENHANCEMENT: Save level specific (selected) capabilities during Membership Level save operation</li><li>ENHANCEMENT: Show the table of capabilities on the Membership Level edit page on button click</li><li>ENHANCEMENT: Allow clearing all checked membership level capabilities w/single button push</li><li>ENHANCEMENT: Use filter to set add-on specific capabilities for level roles</li><li>ENHANCEMENT: Improved labeling for Level specific role.</li><li>ENHANCEMENT: Hide level specific capability list (show when button is clicked)</li><li>ENHANCEMENT: Clean up BuddyPress roles add-on</li><li>ENHANCEMENT: Admin level disabled BuddyPress roles add-on</li><li>ENHANCEMENT: Align BuddyPress template with example template for add-ons</li><li>ENHANCEMENT: Refactor class/methods</li><li>ENHANCEMENT: Temporary framework for License page JavaScript</li><li>ENHANCEMENT: Sort capabilities</li></ol><h3>1.9.9</h3><ol><li>BUG/FIX: Fatal error during processing of new membership level</li></ol><h3>1.9.8</h3><ol><li>BUG/FIX: Fatal error during activation of plugin</li></ol><h3>1.9.7</h3><ol><li>ENHANCEMENT/FIX: PHP Warning during license check</li></ol><h3>1.9.6</h3><ol><li>ENHANCEMENT/FIX: Didn't load the product name correctly in licensing check</li></ol><h3>1.9.5</h3><ol><li>BUG/FIX: Hide/Show member forums for anonymous users (not logged in or non-members).</li><li>BUG/FIX: Redirecting member forums even if read access is permitted</li><li>BUG/FIX: Translation missing</li></ol><h3>1.9.4</h3><ol><li>ENHANCEMENT/FIX: Didn't show the license name correctly in error/warning message</li><li>ENHANCEMENT/FIX: License status check was borked</li><li>ENHANCEMENT/FIX: Didn't always correctly identify previous membership level(s) for user in PMPRO change level filter handlers</li><li>ENHANCEMENT/FIX: Don't try to add role(s) during level cancellations</li><li>ENHANCEMENT/FIX: Attempted to deactivate licenses that hadn't been activated (had no key)</li><li>ENHANCEMENT/FIX: Redirect if the 'hide forums' setting is enabled _and_ the forum ID is protected</li><li>ENHANCEMENT/FIX: Set the 'forum role' on change of level</li><li>ENHANCEMENT/FIX: Simplify config & settings for bbPress add-on</li><li>ENHANCEMENT/FIX: PHP Warning if there were no membership levels defined</li><li>ENHANCEMENT: More precise missing license warning message</li><li>ENHANCEMENT: Clear and refresh the user/member level cache on user update/change</li><li>ENHANCEMENT: Adding debug logging to after_change_membership_level() method in Manage_Roles</li><li>ENHANCEMENT: Fixed documentation for Cache::set()</li><li>ENHANCEMENT: Clear the license cache whenever we access the admin options page (force license check)</li><li>ENHANCEMENT: Don't pass-through the add-on toggle</li><li>ENHANCEMENT: Only use the change_membership_level actions to modify roles/etc</li><li>ENHANCEMENT: Use the standard debug logging function</li><li>ENHANCEMENT: Convert e20r_roles[add|delete]_level_role to a filter (allows status return)</li><li>ENHANCEMENT: Support cancelling multiple membership levels at once</li><li>ENHANCEMENT: Do not close forums that are public (not protected)</li><li>ENHANCEMENT: Add infrastructure to simplify allowing edit for any logged in user to a non-protected forum.</li><li>ENHANCEMENT: Show message if attempting to define settings for a Membership level and there's no level defined on the system</li><li>ENHANCEMENT: Adding documentation for maybe_extract_class_name() in BuddyPress add-on class</li><li>ENHANCEMENT: Label for licensed add-on/product was incorrect</li><li>ENHANCEMENT: Allow bypass of cached value (force DB look-up)</li><li>ENHANCEMENT: Look-up and cache previous membership levels & statuses for a user ID</li><li>ENHANCEMENT: Use default/standard error/debug logging function (Utilities::log())</li><li>BUG/FIX: Incorrect order for pmpro_after_change_membership_level handler arguments</li><li>BUG/FIX: Didn't load add-on specific filter & hook handlers for bbPress add-on</li><li>BUG/FIX: Swap order of before & after change membership level hooks (delete & clean up old levels, _then_ add new ones)</li><li>BUG/FIX: Didn't use the correct update_list_of_level_members() method during handling of 'pmpro_after_change_membership_level'</li></ol><h3>1.9.3</h3><ol><li>ENHANCEMENT: Add function to retrieve all membership levels that are required by the post ID</li><li>ENHANCEMENT: Refactor for WordPress code style</li><li>ENHANCEMENT: Reduce code duplication</li><li>ENHANCEMENT: Make add-on load/init/handling more generic for BuddyPress add-on</li><li>ENHANCEMENT: Adding an example add-on module</li><li>ENHANCEMENT/FIX: Make example add-on more generic in class/config handling</li><li>ENHANCEMENT/FIX: Load level info from the PMPro table for the forum/level column</li><li>BUG/FIX: Error while configuring the BuddyPress add-on</li></ol><h3>1.9.2</h3><ol><li>ENHANCEMENT: Add column showing membership level required to perform member based permissions</li></ol><h3>1.9.1</h3><ol><li>ENHANCEMENT/FIX: Change priority to load the PMPro/Roles access filter handler</li><li>ENHANCEMENT: Add cache support to the level_has_posts_access() method</li><li>ENHANCEMENT: Checks whether a level has access to a post ID (without user info)</li><li>ENHANCEMENT/FIX: No need to check if the forum should be closed by the non-existent permissions of a user who isn't logged in</li><li>BUG/FIX: Didn't open/close the forum/topic/reply correctly for some users</li><li>ENHANCEMENT: Add custom filter removal function</li><li>ENHANCEMENT: Add support for replacing default 'topic(s)' with user specified word(s) in remove_replies_text() and remove_topics_text() methods</li><li>BUG/FIX: Don't process the post list if the user isn't logged in and they're supposed to be able to see any posts anonymously</li><li>BUG/FIX: Didn't grant everybody access to the forum & topics when global read access was enabled</li><li>BUG/FIX: Couldn't always save the correct 'Hide Forums' setting</li><li>ENHANCEMENT: Refactor 'e20r_roles_addon_has_access' filter handler for bbPress Roles</li></ol><h3>1.9</h3><ol><li>ENHANCEMENT: Didn't permit search/view of protected forum if global read access was granted</li><li>ENHANCEMENT: Didn't allow non-members/logged out users to see forums/topics/replies even if anonymous read is permitted</li><li>ENHANCEMENT: Would sometimes incorrectly deny forum access</li></ol><h3>1.8</h3><ol><li>ENHANCEMENT: Add test to avoid redirect loops for forum archive when no access is granted</li><li>ENHANCEMENT: Now excludes/includes forums, topics and replies from searches if PMPro is configured to do so</li><li>ENHANCEMENT: Load metabox for PMPro membership levels to require for forum(s)</li></ol><h3>1.7</h3><ol><li>ENHANCEMENT: Documentation for get_memberships() member function</li><li>ENHANCEMENT/FIX: Fixed a PHP Warning in License code</li><li>ENHANCEMENT: Reformatted for WordPress Codex style</li><li>ENHANCEMENT: Adding `e20r_roles_add_level_role` and `e20r_roles_delete_level_role` actions to allow user/level specific settings/roles to be defined (used by bbPress add-on)</li><li>ENHANCEMENT/FIX: Load PMPro content check filter early</li><li>ENHANCEMENT: Add case insensitive search with case specific replace to Utilities</li><li>ENHANCEMENT: Use PMPro_Members class members to look up member levels for users, etc</li><li>BUG/FIX: Use 'spectate' capability for read_* permissions</li><li>BUG/FIX: Rename 'threads' to 'topics' in variable names (bbPress standard naming)</li><li>ENHANCEMENT: Allow admin to replace 'topic|topics' with own label(s)</li><li>ENHANCEMENT: Add restrict_forums() method to redirect user to forum summary/archive page if they do not have access to the forum(s)</li><li>ENHANCEMENT/FIX: Improved check_access() method (faster)</li><li>ENHANCEMENT: Use un-cached data whenever in DEBUG mode</li><li>ENHANCEMENT: Add test for global read permission in user_can_read() method</li><li>ENHANCEMENT: Add allow_anon_read() check for global read access (regardless of membership level(s))</li><li>ENHANCEMENT: Simplify the check_forum_access_for() method</li><li>ENHANCEMENT: Remove duplicate user access check method</li><li>ENHANCEMENT: Stop checking access rights if we're processing something other than a bbPress post type</li><li>ENHANCEMENT: Would sometimes block access for members who were supposed to have access to a forum/topic/reply</li><li>ENHANCEMENT: Use post meta to grant/deny overall PMPro Control for a membership level</li><li>ENHANCEMENT: Configure membership level capabilities when saving level definition</li><li>ENHANCEMENT: Added per-level bbPress roles & management</li><li>ENHANCEMENT: Include protected member forums on user's account page</li><li>ENHANCEMENT: Add is_topic(), is_reply(), is_forum methods</li><li>ENHANCEMENT: Use standard bbPress forum roles & capabilities for each membership level that's been configured for forum use</li><li>ENHANCEMENT: BuddyPress support would sometimes interfere with bbPress (forum) support</li></ol><h3>1.6</h3><ol><li>ENHANCEMENT: Clear cache when user updates their profile</li><li>ENHANCEMENT: Add Framework for BuddyPress support</li><li>ENHANCEMENT: Add User list column update for E20R Role assignment</li></ol><h3>1.5</h3><ol><li>BUG/FIX: Whitescreen during PMPro Checkout</li></ol><h3>1.4</h3><ol><li>BUG/FIX: Whitescreen when deleting PMPro Membership Level(s)</li><li>ENHANCEMENT: Avoid confusion in namespace(s)</li><li>ENHANCEMENT: Clean up Namespace</li></ol><h3>1.3</h3><ol><li>ENH/FIX: Reordered Option filters</li></ol><h3>1.2</h3><ol><li>BUG/FIX: Didn't include new license settings on load</li><li>BUG/FIX: Missing source files in build process</li><li>ENHANCEMENT: Plugin Updates to v4.x</li></ol><h3>1.0</h3><ol><li>Adds support for role management by membership level & infrastructure for modules like a bbPress forum access module.</li><li>Initial Release (v1.0) - Trial version (Beta).</li></ol>",
    "faq": "<h3>I found a bug in the plugin.</h3>Please report your issue to us by using the <a href='https://eighty20results.com/support-forums/forum/support-forums/e20r-roles-for-pmpro/' target='_blank'>E20R Roles for PMPro</a> Support Forum on The Eighty / 20 Website, and we'll try to respond within 1 business day."
    }
}